#!/bin/bash
# .githooks/pre-commit
# Pre-commit hook for version validation

set -e

echo "ğŸ” Pre-commit: Validating version synchronization..."

# Check if validation script exists
if [ ! -f "scripts/validate-github-version-sync.sh" ]; then
    echo "âš ï¸  Version validation script not found, skipping check"
    exit 0
fi

# Run version validation (but don't fail the commit if GitHub CLI is unavailable)
if ./scripts/validate-github-version-sync.sh 2>/dev/null; then
    echo "âœ… Pre-commit: Version validation passed"
else
    echo "âš ï¸  Pre-commit: Version validation failed or GitHub CLI unavailable"
    echo "ğŸ’¡ Consider running: ./scripts/sync-version-from-github.sh"
    echo "ğŸ”„ Continuing with commit (validation not enforced)"
fi

echo "âœ… Pre-commit checks complete"